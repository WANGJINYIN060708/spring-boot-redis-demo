(function($){$.util.namespace("$.fn.layout.extensions");$.extend($.fn.layout.extensions,{resizeDelay:500});function resizeDelay(target){$.util.delay(function(){$(target).layout("resize")},$.fn.layout.extensions.resizeDelay)}function getPanels(target,containsCenter){var t=$(target),flag=containsCenter==null||containsCenter==undefined?true:containsCenter,regions=flag?["north","west","east","center","south"]:["north","west","east","south"];return $.array.reduce(regions,function(prev,val,index){var p=t.layout("panel",val);if(p&&p.length){prev.push({region:val,panel:p});prev[val]=p}return prev},[])}function collapseAll(target){var t=$(target),panels=getPanels(target,false);$.each(panels,function(index,item){var opts=item.panel.panel("options");if(!opts.collapsed){t.layout("collapse",item.region)}});resizeDelay(target)}function expandAll(target){var t=$(target),panels=getPanels(target,false);$.each(panels,function(index,item){var opts=item.panel.panel("options");if(opts.collapsed){t.layout("expand",item.region)}});resizeDelay(target)}function toggle(target,region){if(!region||region!="north"&&region!="west"&&region!="east"&&region!="south"){return}var t=$(target),p=t.layout("panel",region);if(p&&p.length){var opts=p.panel("options");if(opts.collapsed){t.layout("expand",region)}else{t.layout("collapse",region)}}}function toggleAll(target,type){if(!type||type!="collapse"&&type!="expand"&&type!="toggle"){type="toggle"}var t=$(target),regions=["north","west","east","south"],anyCollapsed=$.array.some(regions,function(region){var p=t.layout("panel",region);return p&&p.length&&p.panel("options").collapsed?true:false}),anyExpanded=$.array.some(regions,function(region){var p=t.layout("panel",region);return p&&p.length&&!p.panel("options").collapsed?true:false});switch(type){case"collapse":anyExpanded?collapseAll(target,false):expandAll(target,false);break;case"expand":anyCollapsed?expandAll(target,false):collapseAll(target,false);break;case"toggle":default:toggleRegions();break}function toggleRegions(){$.each(regions,function(i,region){toggle(target,region)});resizeDelay(target)}}var methods=$.fn.layout.extensions.methods={collapseAll:function(jq){return jq.each(function(){collapseAll(this)})},expandAll:function(jq){return jq.each(function(){expandAll(this)})},toggle:function(jq,region){return jq.each(function(){toggle(this,region)})},toggleAll:function(jq,type){return jq.each(function(){toggleAll(this,type)})}};var defaults=$.fn.layout.extensions.defaults={};$.extend($.fn.layout.defaults,defaults);$.extend($.fn.layout.methods,methods)})(jQuery);
