(function($){$.util.namespace("$.fn.treegrid.extensions");$.extend($.fn.treegrid.extensions,{_loadFilter:$.fn.treegrid.defaults.loadFilter});function resetExtensionsEvent(t,opts){var target=t[0],state=$.data(target,"treegrid");if(opts.dataPlain){var _loadFilter=opts.loadFilter;opts.loadFilter=function(data,parent){if($.isFunction($.fn.treegrid.extensions._loadFilter)){data=$.fn.treegrid.extensions._loadFilter.apply(this,arguments)}if($.isFunction(_loadFilter)){data=_loadFilter.apply(this,arguments)}var isArray=$.array.likeArray(data)&&!$.util.isString(data),rows=isArray?data:data.rows;if(!rows||!rows.length){return data}rows=opts.dataPlain?$.fn.tree.extensions.dataPlainConverter(rows,opts):rows;if(parent!=null&&parent!=undefined){return isArray?rows:{total:rows.length,rows:rows}}return isArray?rows:{total:data.length||rows.length,rows:rows}}}}function initializeExtensions(target){var t=$(target),state=$.data(target,"treegrid"),opts=state.options;resetExtensionsEvent(t,opts)}var _treegrid=$.fn.treegrid.extensions._treegrid=$.fn.treegrid;$.fn.treegrid=function(options,param){if(typeof options=="string"){return _treegrid.apply(this,arguments)}options=options||{};return this.each(function(){var jq=$(this),isInited=$.data(this,"treegrid")?true:false,opts=isInited?options:$.extend({},$.fn.treegrid.parseOptions(this),$.parser.parseOptions(this,["parentField",{dataPlain:"boolean"}]),options);_treegrid.call(jq,opts,param);if(!isInited){initializeExtensions(this)}})};$.union($.fn.treegrid,_treegrid);var defaults=$.fn.treegrid.extensions.defaults={dataPlain:false,parentField:"parentId"};var methods=$.fn.treegrid.extensions.methods={};$.extend($.fn.treegrid.defaults,defaults);$.extend($.fn.treegrid.methods,methods)})(jQuery);
